import Navbar from '@/components/Navbar';
import Footer from '@/components/Footer';
import BlackCTABanner from '@/components/BlackCTABanner';
import ContactLargeFinal from '@/components/ContactLargeFinal';
import ContactModal from '@/components/ContactModal';

export default function ComparePage() {
  return (
    <>
      <Navbar />

      <section className="max-w-6xl mx-auto px-6 pt-16 pb-6">
        <div className="text-xs tracking-wide uppercase text-gray-500">Compare Plans</div>
        <h1 className="mt-2 text-3xl md:text-4xl font-extrabold leading-tight">
          Find the right fit for your team
        </h1>
        <p className="mt-3 text-lg text-gray-600">
          All plans include core redaction and policy guardrails. Upgrade for advanced controls and enterprise features.
        </p>
      </section>

      {/* Comparison table */}
      <section className="max-w-6xl mx-auto px-6 pb-12 overflow-x-auto">
        <table className="min-w-[720px] w-full border-separate border-spacing-0 rounded-2xl overflow-hidden">
          <thead>
            <tr>
              <th className="bg-white border p-4 text-left font-semibold">Feature</th>
              {['Starter', 'Growth', 'Enterprise'].map(tier => (
                <th key={tier} className="bg-white border p-4 text-left font-semibold">{tier}</th>
              ))}
            </tr>
          </thead>
          <tbody className="bg-white">
            {[
              ['PII / Code / Secrets Redaction', '✔︎', '✔︎', '✔︎'],
              ['Policy Guardrails', 'Basic', 'Advanced', 'Custom'],
              ['Human-in-the-Loop (Approvals)', '—', '✔︎', '✔︎ (workflows)'],
              ['SAML SSO & SCIM', '—', '✔︎', '✔︎'],
              ['Region Routing', '—', 'EU/US', 'Global + BYO region'],
              ['SIEM Exports (CSV/JSON/API)', 'CSV', 'CSV/JSON', 'CSV/JSON/API'],
              ['Support', 'Email', 'Priority', 'SLA'],
            ].map(([feature, s, g, e], i) => (
              <tr key={feature}>
                <td className={`border p-4 ${i % 2 ? 'bg-gray-50' : 'bg-white'}`}>{feature}</td>
                <td className={`border p-4 ${i % 2 ? 'bg-gray-50' : 'bg-white'}`}>{s}</td>
                <td className={`border p-4 ${i % 2 ? 'bg-gray-50' : 'bg-white'}`}>{g}</td>
                <td className={`border p-4 ${i % 2 ? 'bg-gray-50' : 'bg-white'}`}>{e}</td>
              </tr>
            ))}
          </tbody>
        </table>
      </section>

      {/* Plan cards for quick pick */}
      <section className="max-w-6xl mx-auto px-6 pb-14 grid md:grid-cols-3 gap-6">
        {[
          ['Starter', 'Up to 5 users', '€50/mo', 'Get started'],
          ['Growth', 'Up to 50 users', '€500/mo', 'Choose Growth'],
          ['Enterprise', 'Unlimited', 'Custom', 'Contact Sales'],
        ].map(([name, blurb, price, cta], idx) => (
          <div key={name} className={`relative rounded-2xl border bg-white p-6 ${idx===1 ? 'ring-2 ring-black' : ''}`}>
            {idx===1 && (
              <span className="absolute -top-3 left-6 rounded-full bg-black text-white text-xs px-2 py-1">
                Most Popular
              </span>
            )}
            <div className="mb-4">
              <div className="text-sm text-gray-500">{blurb}</div>
              <h3 className="text-xl font-semibold">{name}</h3>
            </div>
            <div className="mb-4">
              <div className="flex items-end gap-2">
                <div className="text-3xl font-extrabold">{price}</div>
                <div className="text-gray-500">{idx === 2 ? ' ' : '/mo'}</div>
              </div>
            </div>
            <ul className="space-y-2 text-sm text-gray-700 mb-6">
              {[
                'PII/code/secrets redaction',
                'Policy guardrails',
                idx === 0 ? 'Basic audit exports' : 'SIEM export (CSV/JSON/API)',
                idx >= 1 ? 'Human-in-the-loop approvals' : 'Email support',
                idx === 2 ? 'Dedicated region routing' : undefined,
              ].filter(Boolean).map(item => (
                <li key={item} className="flex items-start gap-2">
                  <span className="mt-1 inline-block h-1.5 w-1.5 rounded-full bg-black"></span>
                  <span>{item}</span>
                </li>
              ))}
            </ul>
            {idx === 2 ? (
              <a className="block text-center w-full rounded-xl px-4 py-2 border" href="/contact">
                {cta}
              </a>
            ) : (
              <a className={`block text-center w-full rounded-xl px-4 py-2 ${idx===1 ? 'bg-black text-white' : 'border'}`} href="/admin">
                {cta}
              </a>
            )}
          </div>
        ))}
      </section>

      <BlackCTABanner />
      <ContactLargeFinal />
      <Footer />
      <ContactModal />
    </>
  );
}